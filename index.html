<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">

    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-dark.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print">

    <title>Ananth95.GitHub.io-simquad by ananth95</title>
  </head>

  <body>

    <header>
      <div class="container">
        <h1>Ananth95.GitHub.io-simquad</h1>
        <h2>Lightweight Quadcopter simulation and control algorithm testing @ Amrita</h2>

        <section id="downloads">
          <a href="https://github.com/ananth95/ananth95.github.io-simQuad/zipball/master" class="btn">Download as .zip</a>
          <a href="https://github.com/ananth95/ananth95.github.io-simQuad/tarball/master" class="btn">Download as .tar.gz</a>
          <a href="https://github.com/ananth95/ananth95.github.io-simQuad" class="btn btn-github"><span class="icon"></span>View on GitHub</a>
        </section>
      </div>
    </header>

    <div class="container">
      <section id="main_content">
        <h1>
<a id="simquad" class="anchor" href="#simquad" aria-hidden="true"><span class="octicon octicon-link"></span></a>simQuad</h1>

<p>simQuad is a lightweight Quadcopter simulation and control algorithm testing program built in python for quick evaluation of control strategies for an (ill-modeled) quadcopter. This program by no means <em>compensates</em> for ill-models, it's sole task is to perform reasonable non-linear simulation of Quadcopter dynamics with a control law specified by the programmer and produce an Isometric 3D wireframe animation.</p>

<p>Apart from this, the repo holds attitude estimation software that runs on an arduino. We plan to make a complete Arduino based flight controller.</p>

<ul>
<li>Attitude estimation using 6DOF fusion using MPU6050 <em>(accelerometer, gyroscope)</em>
</li>
<li>Wireless communication between PC and Quadcopter using XBEE radios.</li>
<li>Trajectory control.</li>
<li>Flight Control Ground Station to send commands and view liv status of Quadcopter.</li>
</ul>

<h1>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h1>

<p>You need an Arduino Board and an MPU6050. See the wiki on <a href="http://www.dfrobot.com/wiki/index.php/6_DOF_Sensor-MPU6050_%28SKU:SEN0142%29">how to hook up an MPU6050 to an arduino</a>.</p>

<ul>
<li>Flash <code>arduino/saber.cpp</code> onto Arduino Uno or Mega2560 using the Arduino IDE.</li>
<li>Launch <code>ground_station/kalman_binary.py</code> on the PC. You should see an animated real-time GUI visualising the attitude of MPU6050 chip.

<ul>
<li>Kill the process using <code>Ctrl</code> <code>C</code> to exit.</li>
<li>The <code>.py</code> script may have to launched twice incase you do not see the plot.</li>
</ul>
</li>
</ul>

<p><img src="https://cloud.githubusercontent.com/assets/9897445/11621002/d0c21f32-9cdd-11e5-911d-e7066bb343ef.png" alt="Snapshot of kalman_binary.py in action" title="Snapshot of kalman_binary.py in action"></p>

<p>If you need wireless communications, hook the <code>RX</code> and <code>TX</code> of the XBee radio into the Arduino's Serial <code>TX</code> <code>Rx</code> pins. Make sure the XBees are in <code>AT-transparent</code> (not in <code>ZB</code>) mode <em>(Just flash or make sure the firmware on both radios is 802.15.4)</em>. This time, instead of <code>kalman_binary.py</code> launch <code>kalman_wbinary.py</code>.</p>

<h1>
<a id="built-upon" class="anchor" href="#built-upon" aria-hidden="true"><span class="octicon octicon-link"></span></a>Built upon</h1>

<p>simQuad uses</p>

<ul>
<li>
<strong><a href="http://www.matplotlib.org">matplotlib</a></strong>
to perform the 3D plotting, specifically uses the Artist.FuncAnimation() to create a Quadcopter-animation object.</li>
<li>
<strong>DynamicsEngine</strong>
This is just a set of differential equations that approximately model the physics of the quadcopter. We just increment the timestep and generate the position and orientation vectors for the quadcopter. Thanks to Andrew Gibiansky's amazing <a href="http://andrew.gibiansky.com/blog/physics/quadcopter-dynamics/">blogpost</a>.</li>
</ul>

<h1>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h1>

<ul>
<li>Quadcopter Flight Control Libraries {Install these libraries just as described <a href="https://www.arduino.cc/en/Guide/Libraries#toc5">here</a>}

<ul>
<li>
<a href="https://github.com/arrow-/simQuad/tree/master/arduino/mytimer">mytimer</a>

<ul>
<li>This library provides an interrupt service to poll the MPU6050 via TIMER1.</li>
</ul>
</li>
<li>
<a href="https://github.com/arrow-/simQuad/tree/master/arduino/mympu">mympu</a>

<ul>
<li>This is an interface to the MPU6050 built on the <a href="https://github.com/jrowberg/i2cdevlib">I2CDevLib</a>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="http://wxpython.org/">wxPython</a></li>
<li><a href="http://matplotlib.org/">matplotlib</a></li>
<li><a href="http://www.numpy.org/">NumPy</a></li>
<li>
<a href="https://wiki.python.org/moin/TkInter">Tkinter</a> is Python's default GUI package, it should be available in the standard Python installation.</li>
</ul>

<p><a href="https://github.com/devs" class="user-mention">@devs</a> install necessary packages via Synaptic package manager on Ubuntu and create another <code>.md</code> (markdown) file with tutorials, links, reference/manual pages for these packages.</p>

<h1>
<a id="current-status" class="anchor" href="#current-status" aria-hidden="true"><span class="octicon octicon-link"></span></a>Current status</h1>

<ul>
<li>FuncAnimation works fine, it is fast enough for our simulations.</li>
<li>Simulation dynamics complete.</li>
<li>Attitude Estimation using MPU6050 and sensor fusion using a Kalman filter complete.</li>
<li>Working on wireless comms using XBEE.</li>
</ul>

<h1>
<a id="future-work" class="anchor" href="#future-work" aria-hidden="true"><span class="octicon octicon-link"></span></a>Future work</h1>

<p>See <a href="https://github.com/arrow-/simQuad/blob/master/todo.md">todo.md</a></p>

<ul>
<li>Develop (θ+ω) PID control.</li>
<li>Develop multiple LTI(Linear Time Invariant) controllers for various behaviours(hover, hold-altitude, hold-pitch/roll, yaw, launch, land, ...).</li>
<li>Compare PID with LTI.</li>
<li>Develop hybrid <em>Sliding-Mode</em> LTI controller, building on the work of previous step.</li>
<li>Solve Localisation and Trajectory planning.

<ul>
<li>Explore Octrees, RRT*</li>
<li>Compare with Vectorization, Edge n Corner detection, Vector representation os bounded surfaces and plane ordering and intersection with rays.</li>
</ul>
</li>
</ul>
      </section>
    </div>

    
  </body>
</html>
